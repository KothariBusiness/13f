{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["App","props","state","data","value","loading","columnsCombined","handleChange","bind","handleSubmit","event","this","setState","target","companyName","preventDefault","fetch","mode","then","response","text","html","a","parser","DOMParser","doc","parseFromString","abc","Array","from","getElementById","options","filterQuaters","quarterNames","forEach","item","disabled","innerText","includes","push","Promise","all","map","url","resp","json","result","combinedResult","title","dataIndex","onFilter","record","indexOf","name","index","fromLast","length","replace","trim","toUpperCase","sorter","b","quartername","lastCol","perchange","priceperchange","rows","companyItem","perChange","current_percent_of_portfolio","quarterEndPrice","quarter_end_price","symbol","percent_shares_change","toFixed","Object","keys","values","columnsC","className","type","onChange","onClick","replaceAll","bordered","pagination","columns","dataSource","dataSrc","React","Component","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document"],"mappings":"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","file":"static/js/main.b6fa07d6.chunk.js","sourcesContent":["import React from 'react';\nimport { Table, Input, Space, Button } from 'antd';\n// import Highlighter from 'react-highlight-words';\n// import { SearchOutlined } from '@ant-design/icons';\nimport './App.css';\nimport 'antd/dist/antd.css';\nimport data from './data';\n\nclass App extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: [],\n      value: '',\n      loading: false,\n      columnsCombined: []\n    }\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n    \n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleSubmit(event) {\n    let companyName = this.state.value;\n    event.preventDefault();\n\n    this.setState({loading: true})\n    fetch(`https://whalewisdom.com/filer/${companyName}#tabholdings_tab_link`, {mode: 'no-cors'}).then(function (response) {\n      // The API call was successful!\n      return response.text();\n    }).then(async (html) => {\n   \n      // Convert the HTML string into a document object\n      var parser = new DOMParser();\n      var doc = parser.parseFromString(html, 'text/html');\n      var abc = Array.from(doc.getElementById('quarter_one').options)\n\n      let filterQuaters = [];\n      let quarterNames = [];\n      abc.forEach((item) => {\n          if(!item.disabled) {\n            if(!item.innerText.includes('Current Combined')) {\n              // filterQuaters.push(`https://whalewisdom.com/filer/holdings?id=${companyName}&q1=${item.value}&type_filter=1,2,3,4&symbol=&change_filter=&minimum_ranking=&minimum_shares=&is_etf=0&sc=true&sort=current_mv&order=desc&offset=0&limit=99`)\n              //  filterQuaters.push(`https://whalewisdom.com/filer/holdings?id=${companyName}&q1=${item.value}&type_filter=1,2,3,4&sort=current_mv&order=desc&offset=0&limit=100`)\n              filterQuaters.push(`https://whalewisdom.com/filer/holdings?id=${companyName}&q1=${item.value}&sort=current_mv&order=desc&offset=0&limit=1000`)\n              quarterNames.push(item.innerText);\n            }\n        }\n      })\n\n    // let quarterNames =  [\"Q1 2021 13F Filings \", \"Q4 2020 13F Filings \", \"Q3 2020 13F Filings \", \"Q2 2020 13F Filings \", \"Q1 2020 13F Filings \", \"Q4 2019 13F Filings \", \"Q3 2019 13F Filings \", \"Q2 2019 13F Filings \"]\n      \n      let result = await Promise.all(filterQuaters.map(async url => {\n        const resp = await fetch(url);\n        return resp.json();\n      }));\n\n      let combinedResult = {};\n      let columnsCombined = [ {\n        title: 'Ticker',\n        dataIndex: 'companyName',\n        // sorter: (a, b) => a.companyName.localeComapare(b.companyName),\n        onFilter: (value, record) => record.companyName.indexOf(value) === 0,\n        // ...this.getColumnSearchProps('companyName'),\n      }, {\n        title: 'Company Name',\n        dataIndex: 'name',\n        // sorter: (a, b) => a.name.localeComapare(b.name),\n        onFilter: (value, record) => record.name.indexOf(value) === 0,\n      }];\n      // let result = data;\n      result = result.map((item, index) => {\n        const fromLast = result.length - 1 - index;\n        columnsCombined.push({\n          title: quarterNames[fromLast].replace('13F Filings', '').replace(' ', '').trim('').toUpperCase(),\n          dataIndex: quarterNames[fromLast],\n          sorter: (a, b) => a[quarterNames[fromLast]] - b[quarterNames[fromLast]]\n        })\n        return {...item, quartername: quarterNames[index]}\n      });\n\n      const lastCol = columnsCombined.length - 1;\n      columnsCombined.push({\n        title: `% Change in Shares ${columnsCombined[lastCol].title} vs ${columnsCombined[lastCol - 1].title}`,\n        dataIndex: 'perchange',\n        sorter: (a, b) => a.perchange - b.perchange\n      }, {\n        title: `% Change in price ${columnsCombined[lastCol].title} vs ${columnsCombined[lastCol - 1].title}`,\n        dataIndex: 'priceperchange',\n        sorter: (a, b) => a.priceperchange - b.priceperchange\n      });\n\n      result.forEach((item, index) => {\n        const data = item.rows;\n\n        data.forEach((companyItem) => {\n          const perChange = companyItem.current_percent_of_portfolio;\n          const quarterEndPrice = companyItem.quarter_end_price;\n          if(!combinedResult[companyItem.symbol]) {\n\n            \n            combinedResult[companyItem.symbol] = {companyName: companyItem.symbol, name: companyItem.name && companyItem.name.toUpperCase(), perchange: companyItem.percent_shares_change && companyItem.percent_shares_change.toFixed(1)}\n          }\n          combinedResult[companyItem.symbol] = {...combinedResult[companyItem.symbol], [item.quartername]: perChange && perChange.toFixed(1), [`${item.quartername.trim()}_priceChange`]: quarterEndPrice}\n        });\n        \n      })\n\n      Object.keys(combinedResult).forEach((item) => {\n\n        if(combinedResult[item][quarterNames[0]] && combinedResult[item][quarterNames[1]]) { \n          combinedResult[item] = {\n            ...combinedResult[item],\n            priceperchange: ((combinedResult[item][`${quarterNames[0].trim()}_priceChange`]/combinedResult[item][`${quarterNames[1].trim()}_priceChange`] - 1) * 100).toFixed(1)\n          }\n        } else {\n          delete combinedResult[item].perchange\n        }\n      })\n      this.setState({data: result, loading: false, combinedResult: Object.values(combinedResult), columnsCombined});      \n\n    })\n\n  }\n\n\n  // getColumnSearchProps = dataIndex => ({\n  //   filterDropdown: ({ setSelectedKeys, selectedKeys, confirm, clearFilters }) => (\n  //     <div style={{ padding: 8 }}>\n  //       <Input\n  //         ref={node => {\n  //           this.searchInput = node;\n  //         }}\n  //         placeholder={`Search ${dataIndex}`}\n  //         value={selectedKeys[0]}\n  //         onChange={e => setSelectedKeys(e.target.value ? [e.target.value] : [])}\n  //         onPressEnter={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n  //         style={{ marginBottom: 8, display: 'block' }}\n  //       />\n  //       <Space>\n  //         <Button\n  //           type=\"primary\"\n  //           onClick={() => this.handleSearch(selectedKeys, confirm, dataIndex)}\n  //           icon={<SearchOutlined />}\n  //           size=\"small\"\n  //           style={{ width: 90 }}\n  //         >\n  //           Search\n  //         </Button>\n  //         <Button onClick={() => this.handleReset(clearFilters)} size=\"small\" style={{ width: 90 }}>\n  //           Reset\n  //         </Button>\n  //         <Button\n  //           type=\"link\"\n  //           size=\"small\"\n  //           onClick={() => {\n  //             confirm({ closeDropdown: false });\n  //             this.setState({\n  //               searchText: selectedKeys[0],\n  //               searchedColumn: dataIndex,\n  //             });\n  //           }}\n  //         >\n  //           Filter\n  //         </Button>\n  //       </Space>\n  //     </div>\n  //   ),\n  //   filterIcon: filtered => <SearchOutlined style={{ color: filtered ? '#1890ff' : undefined }} />,\n  //   onFilter: (value, record) =>\n  //     record[dataIndex]\n  //       ? record[dataIndex].toString().toLowerCase().includes(value.toLowerCase())\n  //       : '',\n  //   onFilterDropdownVisibleChange: visible => {\n  //     if (visible) {\n  //       setTimeout(() => this.searchInput.select(), 100);\n  //     }\n  //   },\n  //   render: text =>\n  //     this.state.searchedColumn === dataIndex ? (\n  //       <Highlighter\n  //         highlightStyle={{ backgroundColor: '#ffc069', padding: 0 }}\n  //         searchWords={[this.state.searchText]}\n  //         autoEscape\n  //         textToHighlight={text ? text.toString() : ''}\n  //       />\n  //     ) : (\n  //       text\n  //     ),\n  // });\n\n  // handleSearch = (selectedKeys, confirm, dataIndex) => {\n  //   confirm();\n  //   this.setState({\n  //     searchText: selectedKeys[0],\n  //     searchedColumn: dataIndex,\n  //   });\n  // };\n\n  // handleReset = clearFilters => {\n  //   clearFilters();\n  //   this.setState({ searchText: '' });\n  // };\n\n\n  render() {\n    const {combinedResult = [], columnsCombined} = this.state;\n    let columnsC = [ {\n      title: 'Symbol',\n      dataIndex: 'symbol',\n      sorter: (a, b) => a.symbol - b.symbol\n      // ...this.getColumnSearchProps('companyName'),\n    }, {\n      title: 'Company Name',\n      dataIndex: 'name',\n    }, {\n      title: 'Current Portfolio percent',\n      dataIndex: 'current_percent_of_portfolio'\n    }, {\n      title: 'Quarter End Price',\n      dataIndex: 'quarter_end_price'\n    }];\n\n    return (<div className=\"App\">\n          <input type=\"text\" value={this.state.value} onChange={this.handleChange}></input>\n          <input type=\"button\" value=\"Submit\" onClick={this.handleSubmit} />\n      \n      \n        <br />\n        {combinedResult.length > 0 && <div className=\"fund-name\">Fund Name: {this.state.value.replaceAll('-', ' ').toUpperCase()}</div>}\n  \n      {combinedResult.length > 0 && <Table bordered pagination={false} columns={columnsCombined} dataSource={combinedResult} />}\n      <br />\n      <br />\n      <br />\n      <br />\n      {this.state.data.map((item) => {\n        const dataSrc = item.rows;\n        return (<Table columns={columnsC} dataSource={dataSrc} />)\n      })}\n     \n    </div>)\n  }\n}\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}